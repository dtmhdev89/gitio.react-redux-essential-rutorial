(this["webpackJsonpredux-essentials-example"]=this["webpackJsonpredux-essentials-example"]||[]).push([[0],{1132:function(e,t){},1135:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(30),c=n.n(o),s=(n(68),n(18)),u=n(4),i=function(){return r.a.createElement("nav",null,r.a.createElement("section",null,r.a.createElement("h1",null,"Redux Essentials Example"),r.a.createElement("div",{className:"navContent"},r.a.createElement("div",{className:"navLinks"},r.a.createElement(s.b,{to:"/"},"Posts")))))},l=n(7),m=function(e){var t=e.userId,n=Object(l.c)((function(e){return e.users.find((function(e){return e.id===t}))}));return r.a.createElement("span",null," by ",n?n.name:"Unknown author")},d=n(1136),p=n(1137),f=function(e){var t=e.timestamp,n="";if(t){var a=Object(d.a)(t),o=Object(p.a)(a);n="".concat(o," ago")}return r.a.createElement("span",{title:t},"\xa0 ",r.a.createElement("i",null,n))},b=n(17),E=n(14),h=n(1138),O=[{id:"1",title:"First Post!",content:"Hello!",date:Object(h.a)(new Date,{minutes:10}).toISOString(),reactions:{thumbsUp:0,hooray:0,heart:0,rocket:0,eyes:0}},{id:"2",title:"Second Post",content:"More text",date:Object(h.a)(new Date,{minutes:5}).toISOString(),reactions:{thumbsUp:0,hooray:0,heart:0,rocket:0,eyes:0}}],j=Object(E.b)({name:"posts",initialState:O,reducers:{reactionAdded:function(e,t){var n=t.payload,a=n.postId,r=n.reaction,o=e.find((function(e){return e.id===a}));o&&o.reactions[r]++},postAdded:{reducer:function(e,t){e.push(t.payload)},prepare:function(e,t,n){return{payload:{id:Object(E.c)(),title:e,content:t,user:n,date:(new Date).toISOString(),reactions:{thumbsUp:0,hooray:0,heart:0,rocket:0,eyes:0}}}}},postUpdated:function(e,t){var n=t.payload,a=n.id,r=n.title,o=n.content,c=n.userId,s=e.find((function(e){return e.id===a}));s&&(s.title=r,s.content=o,s.user=c)}}}),v=j.actions,g=v.postAdded,y=v.postUpdated,S=v.reactionAdded,x=j.reducer,I={thumbsUp:"\ud83d\udc4d",hooray:"\ud83c\udf89",heart:"\u2764\ufe0f",rocket:"\ud83d\ude80",eyes:"\ud83d\udc40"},C=function(e){var t=e.post,n=Object(l.b)(),a=Object.entries(I).map((function(e){var a=Object(b.a)(e,2),o=a[0],c=a[1];return r.a.createElement("button",{key:o,type:"button",className:"muted-button reaction-button",onClick:function(){return n(S({postId:t.id,reaction:o}))}},c," ",t.reactions[o])}));return r.a.createElement("div",null,a)},N=function(){var e=Object(l.c)((function(e){return e.posts})).slice().sort((function(e,t){return t.date.localeCompare(e.date)})).map((function(e){return r.a.createElement("article",{className:"post-excerpt",key:e.id},r.a.createElement("h3",null,e.title),r.a.createElement("div",null,r.a.createElement(m,{userId:e.user}),r.a.createElement(f,{timestamp:e.date})),r.a.createElement("p",{className:"post-content"},e.content.substring(0,100)),r.a.createElement(C,{post:e}),r.a.createElement(s.b,{to:"/posts/".concat(e.id),className:"button muted-button"},"View Post"))}));return r.a.createElement("section",{className:"posts-list"},r.a.createElement("h2",null,"Posts"),e)},w=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),s=Object(b.a)(c,2),u=s[0],i=s[1],m=Object(a.useState)(""),d=Object(b.a)(m,2),p=d[0],f=d[1],E=Object(l.b)(),h=Object(l.c)((function(e){return e.users})),O=Boolean(n)&&Boolean(u)&&Boolean(p),j=h.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}));return r.a.createElement("section",null,r.a.createElement("h2",null,"Add a New Post"),r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"postTitle"},"Post Title:"),r.a.createElement("input",{type:"text",id:"postTitle",name:"postTitle",value:n,onChange:function(e){return o(e.target.value)}}),r.a.createElement("label",{htmlFor:"postAuthor"},"Author:"),r.a.createElement("select",{id:"postAuthor",value:p,onChange:function(e){return f(e.target.value)}},r.a.createElement("option",{value:""}),j),r.a.createElement("label",{htmlFor:"postContent"},"Content:"),r.a.createElement("textarea",{type:"text",id:"postContent",name:"postContent",value:u,onChange:function(e){return i(e.target.value)}}),r.a.createElement("button",{type:"button",onClick:function(){n&&u&&(E(g(n,u,p)),o(""),i(""))},disabled:!O},"Save Post")))},k=function(e){var t=e.match.params.postId,n=Object(l.c)((function(e){return e.posts.find((function(e){return e.id===t}))}));return n?r.a.createElement("section",null,r.a.createElement("article",null,r.a.createElement("h2",null,n.title),r.a.createElement("p",{className:"post-content"},n.content),r.a.createElement("p",null,r.a.createElement(m,{userId:n.user})),r.a.createElement(C,{post:n}),r.a.createElement(s.b,{to:"/editPost/".concat(n.id),className:"button"},"Edit Post"))):r.a.createElement("section",null,r.a.createElement("h2",null,"Post not found"))},P=function(e){var t=e.match.params.postId,n=Object(l.c)((function(e){return e.posts.find((function(e){return e.id===t}))})),o=Object(l.c)((function(e){return e.users})),c=Object(a.useState)(n.title),s=Object(b.a)(c,2),i=s[0],m=s[1],d=Object(a.useState)(n.content),p=Object(b.a)(d,2),f=p[0],E=p[1],h=Object(a.useState)(n.user),O=Object(b.a)(h,2),j=O[0],v=O[1],g=Object(l.b)(),S=Object(u.g)(),x=Boolean(i)&&Boolean(f)&&Boolean(j),I=o.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}));return r.a.createElement("section",null,r.a.createElement("h2",null,"Edit Post"),r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"postTitle"},"Post Title:"),r.a.createElement("input",{type:"text",id:"postTitle",name:"postTitle",placeholder:"What's on your mind?",value:i,onChange:function(e){return m(e.target.value)}}),r.a.createElement("select",{id:"postAuthor",value:j,onChange:function(e){return v(e.target.value)}},r.a.createElement("option",{value:""}),I),r.a.createElement("label",{htmlFor:"postContent"},"Content:"),r.a.createElement("textarea",{id:"postContent",name:"postContent",value:f,onChange:function(e){return E(e.target.value)}})),r.a.createElement("button",{type:"button",onClick:function(){i&&f&&(g(y({id:t,title:i,content:f,userId:j})),S.push("/posts/".concat(t)))},disabled:!x},"Save Post"))};var A,T=function(){return r.a.createElement(s.a,null,r.a.createElement(i,null),r.a.createElement("div",{className:"App"},r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null),r.a.createElement(N,null))}}),r.a.createElement(u.b,{exact:!0,path:"/posts/:postId",component:k}),r.a.createElement(u.b,{exact:!0,path:"/editPost/:postId",component:P}),r.a.createElement(u.a,{to:"/"}))))},D=Object(E.b)({name:"users",initialState:[{id:"0",name:"Tianan Jenkins"},{id:"1",name:"Kevin Grant"},{id:"2",name:"Madison Price"}],reducers:{}}).reducer,M=Object(E.a)({reducer:{posts:x,users:D}}),U=n(62),B=n(8),F=n(19),q=n.n(F),z=n(27),J=n(44),L=n.n(J),R=B.c.extend({serializeIds:"always"}),G=L()(),H=localStorage.getItem("randomTimestampSeed");function K(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(G()*(t-e+1))+e}H?A=new Date(H):(H=(A=new Date).toISOString(),localStorage.setItem("randomTimestampSeed",H)),G=L()(H),Object(z.setRandom)(G),q.a.seed(A.getTime());var V=function(e){return e[K(0,e.length-1)]},W=["poked you","says hi!","is glad we're friends","sent you a gift"];new B.d({routes:function(){this.namespace="fakeApi",this.resource("users"),this.resource("posts"),this.resource("comments");var e=this;this.post("/posts",(function(t,n){var a=this.normalizedRequestAttrs();a.date=(new Date).toISOString();var r=t.users.find(a.userId);if(a.user=r,"error"===a.content)throw new Error("Could not save the post!");return e.create("post",a)})),this.get("/posts/:postId/comments",(function(e,t){return e.posts.find(t.params.postId).comments})),this.get("/notifications",(function(e,t){var n,a=K(1,5),r=new Date;return t.queryParams.since?n=Object(d.a)(t.queryParams.since):(n=new Date(r.valueOf())).setMinutes(n.getMinutes()-15),{notifications:Object(U.a)(Array(a)).map((function(){var t=V(e.db.users),a=V(W);return{id:Object(E.c)(),date:q.a.date.between(n,r).toISOString(),message:a,user:t.id,read:!1,isNew:!0}}))}}))},models:{user:B.b.extend({posts:Object(B.g)()}),post:B.b.extend({user:Object(B.f)(),comments:Object(B.g)()}),comment:B.b.extend({post:Object(B.f)()}),notification:B.b.extend({})},factories:{user:B.a.extend({id:function(){return Object(E.c)()},firstName:function(){return q.a.name.firstName()},lastName:function(){return q.a.name.lastName()},name:function(){return q.a.name.findName(this.firstName,this.lastName)},username:function(){return q.a.internet.userName(this.firstName,this.lastName)},afterCreate:function(e,t){t.createList("post",3,{user:e})}}),post:B.a.extend({id:function(){return Object(E.c)()},title:function(){return Object(z.sentence)()},date:function(){return q.a.date.recent(7)},content:function(){return Object(z.article)(1)},reactions:function(){return{thumbsUp:0,hooray:0,heart:0,rocket:0,eyes:0}},afterCreate:function(e,t){},user:Object(B.e)()}),comment:B.a.extend({id:function(){return Object(E.c)()},date:function(){return q.a.date.past(2)},text:function(){return Object(z.paragraph)()},post:Object(B.e)()})},serializers:{user:R,post:R,comment:R},seeds:function(e){e.createList("user",3)}}),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:M},r.a.createElement(T,null))),document.getElementById("root"))},63:function(e,t,n){e.exports=n(1135)},68:function(e,t,n){}},[[63,1,2]]]);
//# sourceMappingURL=main.86fa737a.chunk.js.map